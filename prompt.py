import os

api_key = os.environ["OPENAI_API_KEY"]
base_url = os.environ["OPENAI_BASE_URL"]

model = "google/gemini-2.0-flash-001"


term_prompt = """
你现在扮演"术语抽取器"。只做名词级术语抽取与翻译，不要解释。首先自动识别我提供文本的语言，然后对该文本进行分词与术语识别，抽取名词、名词短语、专有名词、缩略词/首字母词（如"5G""API""NLP"），并翻译为{tgt_lang}。


如果文本中没有可用术语，返回空列表。

## 任务要求
1. 首先自动识别源文本的语言类型（如英语、中文、日语、法语等）
2. 仅返回术语级名词：排除动词、形容词、副词、整句、空洞词（如"问题""方面""情况"）与纯数字。
3. 允许多词术语（保留完整搭配，如"干湿分离机构""技术服务合同""数据资产管理平台"）。
4. 规格化与去重：统一单复数、大小写与变体，输出一个"规范术语"，同时列出可能的"变体"。
5. 专名与品牌：人名、地名、机构名、产品名保留原文；若存在行业通行译名，在 translation 中给出该通行译名，并在 notes 标注"通行译名"。
6. 术语优先级：领域相关 > 通用词。遇到边界不清时，宁可多收，不要漏收。
7. 输出格式：只输出 JSON，不要额外文本、不要 Markdown、不要代码块围栏。
8. 目标语言为{tgt_lang}，不要翻译成其他语言了。



"""


translation_prompt = """
## 任务要求
请识别用户给出文本的语言，然后将其翻译为{target_language}，只输出译文，不要输出任何其他内容。

## 术语表
{ref_text}

## 注意
- 首先自动识别源文本的语言类型（如英语、中文、日语等）
- 然后将其准确翻译为{target_language}
- 请严格依据术语表中的术语进行输出，即便你认为其可能存在错误，也需严格遵循术语表内容执行
- 保持原文的语义准确性和流畅性

"""